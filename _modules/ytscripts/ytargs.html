<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ytscripts.ytargs &mdash; ytScripts  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            ytScripts
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../quick_vis.html">quick_vis package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../data_extraction.html">data_extraction package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plot_data.html">plot_data package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ytscripts.html">ytscripts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../udfs.html">udfs package</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ytScripts</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Module code</a></li>
      <li class="breadcrumb-item active">ytscripts.ytargs</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for ytscripts.ytargs</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Argument Parser classes for common arguments.&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">tomllib</span>

<span class="kn">from</span> <span class="nn">pydantic.v1.utils</span> <span class="kn">import</span> <span class="n">deep_update</span>

<span class="kn">from</span> <span class="nn">ytscripts.utilities</span> <span class="kn">import</span> <span class="n">is_notebook</span>


<div class="viewcode-block" id="ytArgs">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs">[docs]</a>
<span class="k">class</span> <span class="nc">ytArgs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Base class with standard inputs for yt scripts.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize ytArgs.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">io_args</span><span class="p">()</span>

<div class="viewcode-block" id="ytArgs.get_parser">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.get_parser">[docs]</a>
    <span class="k">def</span> <span class="nf">get_parser</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the parser.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span></div>


<div class="viewcode-block" id="ytArgs.parse_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.parse_args">[docs]</a>
    <span class="k">def</span> <span class="nf">parse_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the parsed args.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span> <span class="k">if</span> <span class="n">args</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="p">)</span></div>


<div class="viewcode-block" id="ytArgs.add_args_from_dict">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.add_args_from_dict">[docs]</a>
    <span class="k">def</span> <span class="nf">add_args_from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments from a dictionary.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">arg</span><span class="p">,</span> <span class="n">properties</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">properties</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytArgs.add_mutually_exclusive_args_from_dict">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.add_mutually_exclusive_args_from_dict">[docs]</a>
    <span class="k">def</span> <span class="nf">add_mutually_exclusive_args_from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add mutually exclusive arguments from a dictionary.&quot;&quot;&quot;</span>
        <span class="n">group</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">add_mutually_exclusive_group</span><span class="p">(</span><span class="n">required</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">arg</span><span class="p">,</span> <span class="n">properties</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">group</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--</span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="o">**</span><span class="n">properties</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytArgs.override_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.override_args">[docs]</a>
    <span class="k">def</span> <span class="nf">override_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">init_args</span><span class="p">,</span> <span class="n">input_file</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Override CLI arguments with those from input file.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">input_file</span><span class="p">:</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">input_file</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">input_options</span> <span class="o">=</span> <span class="n">tomllib</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

            <span class="c1"># Now combine the two with preference to the input file</span>
            <span class="n">args</span> <span class="o">=</span> <span class="n">deep_update</span><span class="p">(</span><span class="nb">vars</span><span class="p">(</span><span class="n">init_args</span><span class="p">),</span> <span class="n">input_options</span><span class="p">)</span>

            <span class="c1"># If the code is being run in a notebook, ignore --f argument</span>
            <span class="k">if</span> <span class="n">is_notebook</span><span class="p">():</span>
                <span class="n">sys_args</span> <span class="o">=</span> <span class="p">[</span><span class="n">arg</span> <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">arg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;--f=&quot;</span><span class="p">)]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">sys_args</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span>

            <span class="c1"># Update any manually specified arguments</span>
            <span class="k">for</span> <span class="n">indx</span><span class="p">,</span> <span class="n">iarg</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sys_args</span><span class="p">):</span>
                <span class="k">if</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">iarg</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">user_arg</span> <span class="o">=</span> <span class="n">iarg</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

                    <span class="c1"># Check to see if arg is a flag</span>
                    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">args</span><span class="p">[</span><span class="n">user_arg</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">bool</span><span class="p">:</span>
                        <span class="n">args</span> <span class="o">=</span> <span class="n">deep_update</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="p">{</span><span class="n">user_arg</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">args</span> <span class="o">=</span> <span class="n">deep_update</span><span class="p">(</span><span class="n">args</span><span class="p">,</span> <span class="p">{</span><span class="n">user_arg</span><span class="p">:</span> <span class="n">sys_args</span><span class="p">[</span><span class="n">indx</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">args</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">init_args</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">args</span></div>


    <span class="c1"># TODO: remove argument from dictionary instead of dealing with it in the parser</span>
    <span class="c1">#      need to return the updated dictionary for all functions, then update the</span>
    <span class="c1">#      parser at the end (or in the main script)</span>
    <span class="c1"># def remove_arg_from_dict(self, args, rm_arg):</span>
    <span class="c1">#     &quot;&quot;&quot;Remove argument from dictionary.&quot;&quot;&quot;</span>
    <span class="c1">#     if rm_arg in args:</span>
    <span class="c1">#         del args[rm_arg]</span>
    <span class="c1">#     return args</span>

<div class="viewcode-block" id="ytArgs.remove_arg">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.remove_arg">[docs]</a>
    <span class="k">def</span> <span class="nf">remove_arg</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Remove argument from parser.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">_actions</span><span class="p">:</span>
            <span class="n">opts</span> <span class="o">=</span> <span class="n">action</span><span class="o">.</span><span class="n">option_strings</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">opts</span> <span class="ow">and</span> <span class="n">opts</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">arg</span><span class="p">)</span> <span class="ow">or</span> <span class="n">action</span><span class="o">.</span><span class="n">dest</span> <span class="o">==</span> <span class="n">arg</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">_remove_action</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
                <span class="k">break</span>

        <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">_action_groups</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">group_action</span> <span class="ow">in</span> <span class="n">action</span><span class="o">.</span><span class="n">_group_actions</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">group_action</span><span class="o">.</span><span class="n">dest</span> <span class="o">==</span> <span class="n">arg</span><span class="p">:</span>
                    <span class="n">action</span><span class="o">.</span><span class="n">_group_actions</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">group_action</span><span class="p">)</span>
                    <span class="k">return</span></div>


<div class="viewcode-block" id="ytArgs.io_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.io_args">[docs]</a>
    <span class="k">def</span> <span class="nf">io_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add I/O arguments.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;datapath&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Path to the data files.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;outpath&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Path to the output directory.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;pname&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of plt files to plot (if empty, do all)&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;field&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the field for visualization.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;SI&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to set the units to SI (default is cgs).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;verbose&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to turn on various statements.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;no_mpi&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to manually disable mpi features.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;nprocs&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Number of processors to devote to each file when operating in&quot;</span>
                    <span class="s2">&quot;parallel mode&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;nskip&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;Skip every &quot;nskip&quot; entries in &quot;pname&quot; list.&quot;&quot;&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;ifile&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Path to the input file for configuring plots.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytArgs.orientation_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.orientation_args">[docs]</a>
    <span class="k">def</span> <span class="nf">orientation_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add 2D slicing arguments.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;normal&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Normal direction for the slice plot.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;grid_offset&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Amount to offset center to avoid grid alignment vis issues.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytArgs.vis_2d_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytArgs.vis_2d_args">[docs]</a>
    <span class="k">def</span> <span class="nf">vis_2d_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add 2D visualization arguments.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;cmap&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;dusk&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Colormap for the 2D plot.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;dpi of the output image (default = 300).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;pbox&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Bounding box of the plot specified by the two corners &quot;</span>
                    <span class="s2">&quot;(x0 y0 x1 y1).&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;fbounds&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Bounds for the colorbar.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="ytVisArgs">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytVisArgs">[docs]</a>
<span class="k">class</span> <span class="nc">ytVisArgs</span><span class="p">(</span><span class="n">ytArgs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to interface with standard yt visualization functions.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize ytVisArgs.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ytVisArgs</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="ytVisArgs.slice_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytVisArgs.slice_args">[docs]</a>
    <span class="k">def</span> <span class="nf">slice_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for SlicePlot.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;center&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Coordinate list for center of slice plot (x, y, z).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;plot_log&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Plot in log values.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;grids&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Options to specify annotate grids (alpha, min_level, max_level, &quot;</span>
                    <span class="s2">&quot;linewidth).&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Options to specify annotate cells (linewidth, alpha, color).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;buff&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Buffer for the SlicePlot image for plotting.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;contour&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of contour field and value to plot on top of slice.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;clw&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Linewidth for each of the contour lines.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;pickle&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to store image as pickle for later manipulation.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;grid_info&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Add text box with grid information (xloc, yloc, min_lev, max_lev).&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;rm_eb&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Float value to plot non-fluid using binary cmap [0, 1].&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;gradient&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;magnitude&quot;</span><span class="p">],</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Choice to visualize the gradient of the input field.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;no_time&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to remove the timestamp.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;no_units&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to remove all units from plots.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;add_udf&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of user defined functions file (located in udfs/).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;use_tex&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to use latex parser.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="ytExtractArgs">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytExtractArgs">[docs]</a>
<span class="k">class</span> <span class="nc">ytExtractArgs</span><span class="p">(</span><span class="n">ytArgs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to interface with custom data extraction functions.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize ytExtractArgs.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ytExtractArgs</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="ytExtractArgs.slice_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytExtractArgs.slice_args">[docs]</a>
    <span class="k">def</span> <span class="nf">slice_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for extract slices routine.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;min&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Index of the first slice to extract in the normal direction.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;max&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Index of the last slice to extract in the normal direction.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;num_slices&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Number of slices to extract in normal direction.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;gradient&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;magnitude&quot;</span><span class="p">],</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Choice to extract the gradient of the input field.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytExtractArgs.isosurface_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytExtractArgs.isosurface_args">[docs]</a>
    <span class="k">def</span> <span class="nf">isosurface_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for extracting iso-surfaces.&quot;&quot;&quot;</span>

        <span class="n">val_args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Value of the iso surface to extract.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;vfunction&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Value of the iso surface to extract as a function &quot;</span>
                    <span class="s2">&quot;(start_time; start_value; end_time; end_value).&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;format&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;ply&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Output format of the iso-surface.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;yt&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Flag to enable yt iso-surface extraction when outputting in &quot;</span>
                    <span class="s2">&quot;hdf5/xdmf format only (default to faster, custom routine).&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;do_ghost&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to get ghost cells before the iso-surface extraction.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;single_level&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to only get single grid level for isosurface.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;smooth&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Smoothing value to apply to field before isosurface extract&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;iso_edge&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Physical box inside which we extract isosurfaces.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;gradient&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;magnitude&quot;</span><span class="p">],</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Choice to extract the gradient of the input field.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>
        <span class="c1"># Add mutually exclusive arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_mutually_exclusive_args_from_dict</span><span class="p">(</span><span class="n">val_args</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytExtractArgs.average_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytExtractArgs.average_args">[docs]</a>
    <span class="k">def</span> <span class="nf">average_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for extracting averages.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Names of the data fields to extract.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;average_data&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the output data file (.pkl).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;normal&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">],</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Option to perform 2D slice (defaults to domain average).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="p">(</span>
                    <span class="s2">&quot;Physical location to perform the 2D slice (if normal is defined).&quot;</span>
                <span class="p">),</span>
            <span class="p">},</span>
            <span class="s2">&quot;rm_eb&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to explicitly remove all data in EB regions.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="c1"># remove potentially conflicting arguments from base class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_arg</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytExtractArgs.grid_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytExtractArgs.grid_args">[docs]</a>
    <span class="k">def</span> <span class="nf">grid_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for extracting grid info.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;average_data&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the output data file (.pkl).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="c1"># remove potentially conflicting arguments from base class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_arg</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="ytPlotArgs">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytPlotArgs">[docs]</a>
<span class="k">class</span> <span class="nc">ytPlotArgs</span><span class="p">(</span><span class="n">ytArgs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to interface with custom plot functions.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize ytPlotArgs.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ytPlotArgs</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># remove unused arguments from base class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_arg</span><span class="p">(</span><span class="s2">&quot;pname&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_arg</span><span class="p">(</span><span class="s2">&quot;SI&quot;</span><span class="p">)</span>

<div class="viewcode-block" id="ytPlotArgs.slice_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytPlotArgs.slice_args">[docs]</a>
    <span class="k">def</span> <span class="nf">slice_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for plotting slices.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vis_2d_args</span><span class="p">()</span></div>


<div class="viewcode-block" id="ytPlotArgs.average_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytPlotArgs.average_args">[docs]</a>
    <span class="k">def</span> <span class="nf">average_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for plotting averages.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fields&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Names of the data fields to plot.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;fname&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;nargs&quot;</span><span class="p">:</span> <span class="s2">&quot;+&quot;</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;average_data&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the data file to load and plot (.pkl).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;dpi of the output image (default = 300).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="c1"># remove potentially conflicting arguments from base class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_arg</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="ytPlotArgs.grid_args">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytPlotArgs.grid_args">[docs]</a>
    <span class="k">def</span> <span class="nf">grid_args</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add arguments for plotting grid info.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;fname&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;grid_info&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the data file to load and plot (.pkl).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;dpi&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;dpi of the output image (default = 300).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;ptype&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;choices&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;line&quot;</span><span class="p">,</span> <span class="s2">&quot;pie&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">],</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;line&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;type of plot to make.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="c1"># remove potentially conflicting arguments from base class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_arg</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)</span></div>
</div>



<div class="viewcode-block" id="ytAnalysisArgs">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytAnalysisArgs">[docs]</a>
<span class="k">class</span> <span class="nc">ytAnalysisArgs</span><span class="p">(</span><span class="n">ytArgs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class to interface with custom data analysis functions.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Initialize ytAnalysisArgs.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">ytAnalysisArgs</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<div class="viewcode-block" id="ytAnalysisArgs.mixture_fraction">
<a class="viewcode-back" href="../../ytscripts.html#ytscripts.ytargs.ytAnalysisArgs.mixture_fraction">[docs]</a>
    <span class="k">def</span> <span class="nf">mixture_fraction</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Add in arguments for analyzing mixture fraction data.&quot;&quot;&quot;</span>

        <span class="n">args</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="s2">&quot;mixture_average&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Name of the output data file (.pkl).&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;rm_eb&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="s2">&quot;store_true&quot;</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Flag to explicitly remove all data in EB regions.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="s2">&quot;nbins&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;required&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="s2">&quot;help&quot;</span><span class="p">:</span> <span class="s2">&quot;Number of bins to use for the mixture fraction averaging.&quot;</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">}</span>

        <span class="c1"># Add arguments from dict to parser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_args_from_dict</span><span class="p">(</span><span class="n">args</span><span class="p">)</span>

        <span class="c1"># remove potentially conflicting arguments from base class</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remove_arg</span><span class="p">(</span><span class="s2">&quot;field&quot;</span><span class="p">)</span></div>
</div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Alliance for Sustainable Energy.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>